(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,c){},36:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(30),a=c.n(n),s=(c(36),c(4)),i=c(9),j=c.n(i),o=c(11),d=c(6),l=c(12),u=c.n(l);var b=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],a=function(){var e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/products");case 2:t=e.sent,n(t.data.products);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){a()}),[]),{products:[c,n]}},O=c(0),p=Object(r.createContext)(),h=function(e){var t=e.children,c=Object(r.useState)(!1),n=Object(d.a)(c,2),a=n[0],s=n[1],i=function(){var e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/user/refresh_token");case 2:t=e.sent,s(t.data.accesstoken);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){localStorage.getItem("firstLogin")&&i()}),[]);var l={token:[a,s],productsAPI:b()};return Object(O.jsx)(p.Provider,{value:l,children:t})},x=c.p+"static/media/menu.e8db7520.svg",m=c.p+"static/media/close.ea7c95d7.svg",v=c.p+"static/media/cart.d146d6c3.svg";var f=function(){return Object(O.jsxs)("header",{children:[Object(O.jsx)("div",{className:"menu",children:Object(O.jsx)("img",{src:x,alt:"",width:"30"})}),Object(O.jsx)("div",{className:"logo",children:Object(O.jsx)("h1",{children:Object(O.jsx)(s.b,{to:"/",children:"DevAT Shop"})})}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(s.b,{to:"/",children:"Products"})}),Object(O.jsx)("li",{children:Object(O.jsx)(s.b,{to:"/login",children:"Login & Register"})}),Object(O.jsx)("li",{children:Object(O.jsx)("img",{src:m,alt:"",width:"30",className:"menu"})})]}),Object(O.jsxs)("div",{className:"cart-icon",children:[Object(O.jsx)("span",{children:"0"}),Object(O.jsx)(s.b,{to:"/cart",children:Object(O.jsx)("img",{src:v,alt:"",width:"30"})})]})]})},g=c(2);var w=function(e){var t=e.product;return Object(O.jsxs)("div",{className:"row_btn",children:[Object(O.jsx)(s.b,{id:"btn_buy",to:"#!",children:"Buy"}),Object(O.jsx)(s.b,{id:"btn_view",to:"/detail/".concat(t._id),children:"View"})]})};var N=function(e){var t=e.product;return Object(O.jsxs)("div",{className:"product_card",children:[Object(O.jsx)("img",{src:t.images.url,alt:""}),Object(O.jsxs)("div",{className:"product_box",children:[Object(O.jsx)("h2",{title:t.title,children:t.title}),Object(O.jsxs)("span",{children:["$",t.price]}),Object(O.jsx)("p",{children:t.description})]}),Object(O.jsx)(w,{product:t})]})};c(65);var y=function(){return Object(O.jsx)("div",{className:"load-page",children:Object(O.jsx)("div",{className:"loader",children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{})})})})})})})})})})};var C=function(){var e=Object(r.useContext)(p),t=Object(d.a)(e.productsAPI.products,1)[0];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"products",children:t.map((function(e){return Object(O.jsx)(N,{product:e},e._id)}))}),0===t.length&&Object(O.jsx)(y,{})]})};var S=function(){var e=Object(g.f)(),t=Object(r.useContext)(p),c=Object(d.a)(t.productsAPI.products,1)[0],n=Object(r.useState)([]),a=Object(d.a)(n,2),i=a[0],j=a[1];return Object(r.useEffect)((function(){e.id&&c.forEach((function(t){t._id===e.id&&j(t)}))}),[e.id,c]),0===i.length?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"detail",children:[Object(O.jsx)("img",{src:i.images.url,alt:""}),Object(O.jsxs)("div",{className:"box-detail",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("h2",{children:i.title}),Object(O.jsxs)("h6",{children:["#id: ",i.product_id]})]}),Object(O.jsxs)("span",{children:["$ ",i.price]}),Object(O.jsx)("p",{children:i.description}),Object(O.jsx)("p",{children:i.content}),Object(O.jsxs)("p",{children:["Sold: ",i.sold]}),Object(O.jsx)(s.b,{to:"/cart",className:"cart",children:"Buy Now"})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Related Products"}),Object(O.jsx)("div",{className:"products",children:c.map((function(e){return e.category===i.category?Object(O.jsx)(N,{product:e},e._id):null}))})]})]})},k=c(15),_=c(13);c(29);var P=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(d.a)(e,2),c=t[0],n=t[1],a=function(e){var t=e.target,r=t.name,a=t.value;n(Object(_.a)(Object(_.a)({},c),{},Object(k.a)({},r,a)))},i=function(){var e=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.a.post("/user/login",Object(_.a)({},c));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login-page",children:Object(O.jsxs)("form",{onSubmit:i,children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:c.email,onChange:a}),Object(O.jsx)("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:c.password,onChange:a}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("button",{type:"submit",children:"Login"}),Object(O.jsx)(s.b,{to:"/register",children:"Register"})]})]})})};var E=function(){var e=Object(r.useState)({name:"",mail:"",password:""}),t=Object(d.a)(e,2),c=t[0],n=t[1],a=function(e){var t=e.target,r=t.name,a=t.value;n(Object(_.a)(Object(_.a)({},c),{},Object(k.a)({},r,a)))},i=function(){var e=Object(o.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.a.post("/user/register",Object(_.a)({},c));case 4:localStorage.setItem("firstRegister",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login-page",children:Object(O.jsxs)("form",{onSubmit:i,children:[Object(O.jsx)("h2",{children:"Register"}),Object(O.jsx)("input",{type:"text",name:"name",required:!0,placeholder:"Name",value:c.name,onChange:a}),Object(O.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:c.email,onChange:a}),Object(O.jsx)("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:c.password,onChange:a}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("button",{type:"submit",children:"Register"}),Object(O.jsx)(s.b,{to:"/login",children:"Login"})]})]})})};var I=function(){return Object(O.jsx)("div",{children:"Cart Component"})};var L=function(){return Object(O.jsx)("div",{children:"404 |  NotFound"})};var R=function(){return Object(O.jsxs)(g.c,{children:[Object(O.jsx)(g.a,{path:"/",exact:!0,component:C}),Object(O.jsx)(g.a,{path:"/detail/:id",exact:!0,component:S}),Object(O.jsx)(g.a,{path:"/login",exact:!0,component:P}),Object(O.jsx)(g.a,{path:"/register",exact:!0,component:E}),Object(O.jsx)(g.a,{path:"/cart",exact:!0,component:I}),Object(O.jsx)(g.a,{path:"/*",exact:!0,component:L})]})};var q=function(){return Object(O.jsx)(h,{children:Object(O.jsx)(s.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(f,{}),Object(O.jsx)(R,{})]})})})};a.a.render(Object(O.jsx)(q,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.ef099c59.chunk.js.map